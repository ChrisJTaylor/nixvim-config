# Copilot Instructions for nixvim-config

## Repository Overview
This is a **NixVim configuration** repository that provides a comprehensive Neovim setup using Nix flakes. The configuration is modular and includes extensive plugin integrations, testing capabilities, and cross-platform support.

## Project Structure
```
nixvim-config/
├── flake.nix              # Main Nix flake configuration
├── flake.lock             # Locked dependencies
├── justfile               # Build commands and shortcuts
├── readme.md              # Project documentation
└── modules/               # Modular configuration files
    ├── _top-level.nix     # Core settings and colorschemes
    ├── keymaps.nix        # All key bindings
    ├── lsp.nix            # Language Server Protocol setup
    ├── copilot.nix        # GitHub Copilot configuration
    ├── telescope.nix      # Fuzzy finder configuration
    ├── neotree.nix        # File explorer setup
    ├── testing.nix        # Test framework integration
    ├── coverage.nix       # Code coverage visualization
    └── [other modules...]  # Additional plugin configurations
```

## Key Technologies
- **NixVim**: Nix-based Neovim configuration framework
- **Nix Flakes**: For reproducible builds and dependency management
- **Neovim**: Modern Vim-based text editor
- **LSP**: Language Server Protocol for IDE features
- **Treesitter**: Syntax highlighting and parsing
- **Telescope**: Fuzzy finder and picker
- **Neotest**: Testing framework integration

## Configuration Philosophy
1. **Modular Design**: Each feature is in its own `.nix` file
2. **Cross-Platform**: Works on Linux, macOS, and Windows (WSL)
3. **Developer-Focused**: Optimized for coding with testing, LSP, and debugging
4. **NCrunch-Style Testing**: Automatic test execution and coverage feedback
5. **Minimal Intrusion**: Copilot suggestions disabled by default, triggered manually

## Platform-Specific Considerations
- **Linux**: Full support including Jupyter/Magma integration
- **macOS**: Full support except Magma (disabled due to ueberzug dependency)
- **Windows**: Supported via WSL2

## Build System
- **Primary**: `nix build` or `nix run`
- **Development**: `just` commands for common tasks
- **Testing**: Integrated via neotest with coverage visualization

## Key Features to Understand
1. **Auto-Testing**: Files are automatically tested on save with visual coverage
2. **Modular LSP**: Language servers configured per-language in lsp.nix
3. **Smart Keymaps**: Leader-based (<Space>) with context-aware bindings
4. **Coverage Visualization**: Real-time test coverage with color-coded lines
5. **Repository Awareness**: Copilot Chat should understand the full project context

## When Helping with This Repository
- Always consider the **modular structure** - changes should go in appropriate modules
- Understand this is a **Nix/NixVim project** - use nixvim syntax, not raw Lua/Vim
- **Test configurations** can be built with `nix build`
- **Platform compatibility** matters - check Linux/macOS differences
- **Follow existing patterns** in module structure and naming conventions
- Consider **key binding conflicts** when adding new features

## Current Focus Areas
- Enhancing Copilot Chat repository awareness
- Cross-platform compatibility improvements  
- Testing and coverage workflow optimization
- LSP and completion system refinements